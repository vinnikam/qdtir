<app-navbar></app-navbar>

<div *ngIf="!ciudadanoeActivo && !rolCiudadano">
  <div class="container ">
    <h2 class="base-header">Buscar Contribuyente</h2>
    <div class="row">

      <div class="col-md-10 mx-auto">
        <form class="base-container" (submit)="buscar()" >
          <div class="form-group row">
            <div class="col-sm-6">
              <label>Tipo de Identificación</label>
              <select class="custom-select" class="form-control" [(ngModel)]="elCiudadano.tipoDocumento" name="tipoDocumento">
                <option selected>Seleccione el tipo de Identificación</option>
                <option value="4">CEDULA</option>
                <option value="3">NIT</option>
                <option value="5">PASAPORTE</option>
                <option value="6">CARNET DIPLOMATICO</option>
                <option value="2">CEDULA DE EXTRANJERIA</option>
                <option value="1">TARJETA DE IDENTIDAD</option>
                <option value="7">REGISTRO CIVIL</option>
                <option value="8">N.U.I.P.</option>
                <option value="9">NIT EXTRANJERO</option>

              </select>
            </div>
            <div class="col-sm-6">
              <label>Identificación</label>
              <input type="text" [(ngModel)]="elCiudadano.nroIdentificacion"  name="nroIdentificacion" class="form-control"/>
            </div>

          </div>

          <div class="form-group row">
            <div class="col-sm-6">

            </div>
            <div class="col-sm-6">
              <button pButton type="submit" label="Buscar" class="boton" ></button>

            </div>
          </div>

        </form>
      </div>
    </div>
  </div>
</div>
<div *ngIf="ciudadanoeActivo">
  <div class="container ">
    <h2 class="base-header">DATOS DEL CONTRIBUYENTE</h2>
    <div class="row base-container">
      <div class="col-md-10 mx-auto">
        <div class="form-group row">
          <div class="col-sm-4">
            <li class="list-group-item"> Tipo Identificación : <strong> {{ ciudadanoeActivo.tipoDocumento}}</strong></li>
          </div>
          <div class="col-sm-4">
            <li class="list-group-item"> Identificacion : <strong> {{ ciudadanoeActivo.nroIdentificacion}}</strong></li>
          </div>
          <div class="col-sm-4">
            <li class="list-group-item"> Fecha Expedición : <strong> {{ ciudadanoeActivo.fechaDocumentoS}}</strong></li>
          </div>

        </div>
        <div class="form-group row" *ngIf="esjuridico">
          <div class="col-sm-6">
            <li class="list-group-item"> Nombre Comercial : <strong>{{ ciudadanoeActivo.primerNombre}}</strong> </li>
          </div>
          <div class="col-sm-6">
            <li class="list-group-item"> SIGLA : <strong>{{ ciudadanoeActivo.primerApellido}}</strong> </li>
          </div>
        </div>
        <div class="form-group row" *ngIf="!esjuridico">
          <div class="col-sm-6">
            <li class="list-group-item"> Primer Nombre : <strong>{{ ciudadanoeActivo.primerNombre}}</strong> </li>
          </div>
          <div class="col-sm-6">
            <li class="list-group-item"> Segundo Nombre : <strong>{{ ciudadanoeActivo.segundoNombre}}</strong> </li>
          </div>
        </div>
          <div class="form-group row" class="form-group row" *ngIf="!esjuridico">
            <div class="col-sm-6">
              <li class="list-group-item"> Primer Apellido : <strong>{{ ciudadanoeActivo.primerApellido}}</strong> </li>
            </div>
            <div class="col-sm-6">
              <li class="list-group-item">  Segundo Apellido: <strong>{{ ciudadanoeActivo.segundoApellido}}</strong> </li>
            </div>

        </div>
        <div class="form-group row">
          <div class="col-sm-6">
            <li class="list-group-item"> Número de Matrícula: <strong>{{ ciudadanoeActivo.matriculaMercantil}}</strong> </li>
          </div>
          <div class="col-sm-6">
            <li class="list-group-item"> Estado en el Rit: <strong>{{ ciudadanoeActivo.estadoRIT}}</strong> </li>
          </div>

        </div>
        <div class="form-group row">
          <div class="col-sm-6">
            <li class="list-group-item"> Naturaleza: <strong>{{ ciudadanoeActivo.naturaleza.nombre}}</strong> </li>
          </div>
          <div class="col-sm-6">

          </div>

        </div>
        <div class="form-group row">
          <div class="col-sm-6">
            <li class="list-group-item"> Regimen: <strong>{{ ciudadanoeActivo.regimenTrib}}</strong> </li>
          </div>
          <div class="col-sm-6">
            <li class="list-group-item"> Fecha del Registro del Regimen: <strong>{{ ciudadanoeActivo.fecharegimenBogota}}</strong> </li>
          </div>

        </div>
        <div class="form-group row">
          <div class="col-sm-6">
            <a href="{{certificadoRit}}" target="_blank" class="btn btn-success">Descargar certificado rit</a>

          </div>
          <div class="col-sm-6">


          </div>
        </div>
        <div class="form-group row">
          <div class="col-sm-6">

            <button *ngIf="!rolCiudadano" pButton type="button" label="Buscar de nuevo..." class="boton" (click)="nuevaBusqueda()"></button>

          </div>
          <div class="col-sm-6">

          </div>
        </div>
      </div>

    </div>
  </div>

</div>

<p-dialog header="Información" [modal]="true" [positionTop]="100"  [(visible)]="notificadialog" [style]="{width: '500px', height: '200px'}"
          [closable]="true" [baseZIndex]="10000">
  <div class="container">
    <div >

      <div class="form-group row">
        <div class="col-sm-9">

          ¿ El contribuyente no existe, desea crearlo ?

        </div>

      </div>
      <div class="form-group row">
        <div class="col-sm-6">
          <button class="boton" pButton type="button" label="Si" icon="pi pi-check" (click)="ircrear(1)"></button>


        </div>
        <div class="col-sm-6">


          <button class="boton" pButton type="button-verde" label="No" icon="pi pi-check" (click)="ircrear(0)"></button>
        </div>

      </div>


    </div>
  </div>

</p-dialog>
<p-dialog header="Información" [modal]="true" [positionTop]="100"  [(visible)]="saledialog" [style]="{width: '500px', height: '200px'}"
          [closable]="true" [baseZIndex]="10000">
  <div class="container">
    <div >

      <div class="form-group row">
        <div class="col-sm-12">

          El contribuyente no existe en el sistema, verifique los datos e intente de nuevo. !<br/>
          Si el mensaje persiste solicite la creacion del contribuyyente por los medios que dispone ls SDH.

        </div>

      </div>
      <div class="form-group row">
        <div class="col-sm-6">

          <button class="boton"  pButton type="submit" label="Autenticar" icon="pi pi-check" (click)="irsalir()"></button>
        </div>

      </div>


    </div>
  </div>

</p-dialog>

